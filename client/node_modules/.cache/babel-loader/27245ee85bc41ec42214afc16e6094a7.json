{"ast":null,"code":"import _classCallCheck from\"/home/luciano/boxGame/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/luciano/boxGame/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/luciano/boxGame/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/luciano/boxGame/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/luciano/boxGame/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{Switch,Route,Link}from\"react-router-dom\";import Navbar from\"./components/navbar/Navbar\";import Signup from\"./components/auth/Signup\";import Login from\"./components/auth/Login\";import Home from'./components/Home/Home';import GameDetail from\"./components/Home/GameDetail\";import ConsolesDetails from\"./components/Home/ConsolesDetails\";import Footer from\"./components/footer/Footer\";import Service from'./services/Service';import AuthService from\"./services/AuthService\";import AddGame from\"./components/addGame/AddGame\";import AddConsoles from\"./components/addConsoles/AddConsoles\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);function App(props){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,props));_this.fetchGames=function(){_this.service.getGames().then(function(response){_this.setState({games:response});});};_this.fetchConsoles=function(){_this.service.getConsoles().then(function(response){_this.setState({consoles:response});});};_this.getUser=function(userObj){_this.setState({loggedInUser:userObj});};_this.logout=function(){_this.authService.logout().then(function(){_this.setState({loggedInUser:null});});};_this.state={loggedInUser:null,games:[],consoles:[]};_this.service=new Service();_this.authService=new AuthService();_this.fetchUser();return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;console.log(this.state.loggedInUser);this.fetchGames();//this.fetchConsoles();\n// fetchConsoles = () => {\n// console.log(\"esto es Consoles\")\nthis.service.getConsoles().then(function(response){_this2.setState({consoles:response});});}},{key:\"fetchUser\",value:function fetchUser(){var _this3=this;return this.authService.loggedin().then(function(response){_this3.setState({loggedInUser:response},function(){return console.log(_this3.state);});}).catch(function(err){_this3.setState({loggedInUser:false});});}},{key:\"render\",value:function render(){var _this4=this;if(this.state.loggedInUser){return React.createElement(React.Fragment,null,React.createElement(\"div\",{className:\"App\"},React.createElement(\"header\",{className:\"App-header\"},React.createElement(Navbar,{userInSession:this.state.loggedInUser,logout:this.logout})),React.createElement(\"main\",null,React.createElement(Switch,null,React.createElement(Route,{exact:true,path:\"/\",render:function render(){return React.createElement(Home,{consoles:_this4.state.consoles,games:_this4.state.games});}}),React.createElement(Route,{exact:true,path:\"/home\",render:function render(){return React.createElement(Home,{consoles:_this4.state.consoles,games:_this4.state.games});}}),React.createElement(Route,{exact:true,path:\"/addGame\",render:function render(){return React.createElement(AddGame,null);}}),React.createElement(Route,{exact:true,path:\"/addConsoles\",render:function render(){return React.createElement(AddConsoles,null);}}),React.createElement(Route,{exact:true,path:\"/game/:id\",render:function render(props){return React.createElement(GameDetail,Object.assign({fetchGames:_this4.fetchGames,allGames:_this4.state.games},props));}}),React.createElement(Route,{exact:true,path:\"/console/:id\",render:function render(props){return React.createElement(ConsolesDetails,Object.assign({fetchConsoles:_this4.fetchConsoles,allConsoles:_this4.state.consoles},props));}})))));}else{return React.createElement(React.Fragment,null,React.createElement(\"div\",{className:\"App\"},React.createElement(\"header\",{className:\"App-header\"},React.createElement(Navbar,{userInSession:this.state.loggedInUser,logout:this.logout})),React.createElement(\"main\",null,React.createElement(Switch,null,React.createElement(Route,{exact:true,path:\"/home\",render:function render(){return React.createElement(Home,{consoles:_this4.state.consoles,games:_this4.state.games});}}),React.createElement(Route,{exact:true,path:\"/login\",render:function render(){return React.createElement(Login,{getUser:_this4.getUser});}}),React.createElement(Route,{exact:true,path:\"/signup\",render:function render(){return React.createElement(Signup,{getUser:_this4.getUser});}})),React.createElement(Footer,null))));}}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/home/luciano/boxGame/client/src/App.js"],"names":["React","Component","Switch","Route","Link","Navbar","Signup","Login","Home","GameDetail","ConsolesDetails","Footer","Service","AuthService","AddGame","AddConsoles","App","props","fetchGames","service","getGames","then","response","setState","games","fetchConsoles","getConsoles","consoles","getUser","userObj","loggedInUser","logout","authService","state","fetchUser","console","log","loggedin","catch","err"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Switch, Route, Link} from \"react-router-dom\";\nimport Navbar from \"./components/navbar/Navbar\";\nimport Signup from \"./components/auth/Signup\";\nimport Login from \"./components/auth/Login\";\nimport Home from './components/Home/Home';\nimport GameDetail from \"./components/Home/GameDetail\";\nimport ConsolesDetails from \"./components/Home/ConsolesDetails\";\nimport Footer from \"./components/footer/Footer\";\nimport Service from './services/Service';\nimport AuthService from \"./services/AuthService\";\nimport AddGame from \"./components/addGame/AddGame\";\nimport AddConsoles from \"./components/addConsoles/AddConsoles\";\n\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { \n      loggedInUser: null,\n      games: [],\n      consoles: []\n    };\n    this.service = new Service()\n    this.authService = new AuthService();\n    this.fetchUser();\n  }\n\n  componentDidMount() {\n    console.log(this.state.loggedInUser)\n    this.fetchGames();\n    //this.fetchConsoles();\n\n    // fetchConsoles = () => {\n    // console.log(\"esto es Consoles\")\n    this.service.getConsoles()\n    .then(response => {\n      this.setState({\n        consoles: response\n      })\n\n    })\n  }\n\n  fetchGames = () => {\n    this.service.getGames()\n    .then(response => {\n      this.setState({\n        games: response\n      })\n    })\n  }\n\n  fetchConsoles = () => {\n    this.service.getConsoles()\n    .then(response => {\n      this.setState({\n        consoles: response\n      })\n    })\n  }\n \n\n  getUser = userObj => {\n    this.setState({\n      loggedInUser: userObj,\n    });\n  };\n\n  logout = () => {\n    this.authService.logout().then(() => {\n      this.setState({ loggedInUser: null });\n    });\n  };\n\n  fetchUser() {\n    return this.authService\n    .loggedin()\n      .then(response => {\n        this.setState({\n          loggedInUser: response,\n        }, () => console.log(this.state));\n      })\n      .catch(err => {\n        this.setState({\n          loggedInUser: false,\n        });\n      });\n  }\n\n  render() {\n    if (this.state.loggedInUser) {\n      return (\n        <React.Fragment>\n\n          <div className=\"App\">\n            <header className=\"App-header\">\n              <Navbar userInSession={this.state.loggedInUser} logout={this.logout} />\n            </header> \n            <main>\n              \n              <Switch>\n                <Route exact path=\"/\" render={()=><Home consoles={this.state.consoles} games={this.state.games} ></Home>} /> \n                <Route exact path=\"/home\" render={()=><Home consoles={this.state.consoles} games={this.state.games} ></Home>} /> \n                <Route exact path=\"/addGame\" render={()=><AddGame></AddGame>} />  \n                <Route exact path=\"/addConsoles\" render={()=><AddConsoles></AddConsoles>} />            \n                <Route exact path=\"/game/:id\" render={(props) =><GameDetail fetchGames={this.fetchGames} allGames={this.state.games} {...props}></GameDetail>} />\n                <Route exact path=\"/console/:id\" render={(props) =><ConsolesDetails fetchConsoles={this.fetchConsoles} allConsoles={this.state.consoles} {...props}></ConsolesDetails>} />\n              </Switch> \n            </main>\n          </div>\n        </React.Fragment>\n      );\n    } else {\n      return (\n        <React.Fragment>\n          {/* <Redirect to=\"/\" /> */}\n\n          <div className=\"App\">\n            <header className=\"App-header\">\n              <Navbar userInSession={this.state.loggedInUser} logout={this.logout} />\n            </header>\n            <main>\n              <Switch>\n  \n                <Route exact path=\"/home\" render={()=><Home consoles={this.state.consoles} games={this.state.games}></Home>} />              \n                <Route exact path=\"/login\" render={() => <Login getUser={this.getUser} />} />\n                <Route exact path=\"/signup\" render={() => <Signup getUser={this.getUser} />} />\n              </Switch>\n              <Footer/>\n            </main>\n           \n          </div>\n        </React.Fragment>\n      );\n    }\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}